<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapports</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #ffffff, #ffffff);
            min-height: 100vh;
        }

        /* ================= NAVBAR ================= */
        .navbar {
            background: linear-gradient(90deg, #02327f, #104a9b);
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.4rem;
            color: #fff !important;
        }

        .nav-link {
            font-weight: 500;
            color: #e5e7eb !important;
            padding: .5rem 1rem;
            border-radius: .5rem;
            transition: all .2s ease;
        }

        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .nav-link.active {
            background-color: rgba(255, 255, 255, 0.25);
            color: #fff !important;
        }

        /* ================= CONTENT ================= */
        .container {
            max-width: 1200px;
        }

        /* ================= ALERTS ================= */
        .alert {
            border-radius: 1rem;
            font-weight: 500;
        }

        .alert-success {
            background-color: #ecfdf5;
            color: #065f46;
            border: none;
        }

        .alert-danger {
            background-color: #fef2f2;
            color: #991b1b;
            border: none;
        }

        .alert-warning {
            background-color: #fffbeb;
            color: #92400e;
            border: none;
        }

        .alert-info {
            background-color: #eff6ff;
            color: #1e40af;
            border: none;
        }

        /* ================= CARDS ================= */
        .card {
            border: none;
            border-radius: 1.25rem;
        }

        /* ================= TABLE ROW HOVER ================= */
        .hover-row:hover {
            background-color: #f1f5f9 !important;
            transition: 0.2s ease;
        }
        .navbar-logo {
            height: 30px;
            width: auto;
            object-fit: contain;
        }


    </style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg shadow-sm mb-4">
    <div class="container">
            <!-- LOGO  -->
        <a class="navbar-brand d-flex align-items-center gap-2">   
        <img src="data:image/png;base64,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"
                    alt="Logo"
                   class="navbar-logo">
        </a>
        <a class="navbar-brand d-flex align-items-center gap-2" href="{% url 'home' %}">
            <!-- <i class="bi bi-activity"></i> -->
            Accueil
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto ms-4 gap-2">
                <li class="nav-item">
                    <a class="nav-link {% if request.path == '/reports/' %}active{% endif %}"
                       href="{% url 'report_list' %}">
                       <i class="bi bi-file-earmark-bar-graph me-1"></i> Rapports
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.path == '/queries/' %}active{% endif %}"
                       href="{% url 'query_list' %}">
                        <i class="bi bi-collection me-1"></i> Requêtes
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.path == '/databases/' %}active{% endif %}"
                       href="{% url 'db_list' %}">
                        <i class="bi bi-hdd-network me-1"></i> Bases de données
                    </a>
                </li>
                 {% if user.is_authenticated and user.is_staff %}
                <li>
                    <a href="{% url 'users_list' %}"
                    class="nav-link {% if request.path == '/users/' %}active{% endif %}">
                    <i class="bi bi-people-fill me-1"></i> Comptes
                    </a>
                </li>
                {% endif %}

            </ul>
        </div>
            <!-- ================= USER MENU ================= -->
            {% if user.is_authenticated %}
                    <a class="nav-link d-flex align-items-center gap-2">
                        <i class="bi bi-person-circle fs-5"></i>
                     <span class="fw-semibold">{{ user.username }}</span>
                    </a>
             {% endif %}
            <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="nav-link {% if request.path == '/logout/' %}active{% endif %} ">
                          Déconnexion
                        </button>
             </form>
    </div>
</nav>

<!-- ================= MESSAGES DJANGO ================= -->
{% if messages %}
<div class="container mb-4">
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm" role="alert">
            <i class="bi bi-info-circle-fill me-2"></i>
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endfor %}
</div>
{% endif %}

<!-- ================= MAIN CONTENT ================= -->
<div class="container mb-5">
    {% block content %}{% endblock %}
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
